{"version":3,"sources":["../../../../src/morphology/german/generateParticipleForm.js"],"names":["generateParticipleForm","addParticipleAffixes","stemmedWord","affixes","additionalPrefix","prefix","suffix","generateRegularParticipleForm","morphologyDataVerbs","endsWith","participleAffixes","stemEndsInDOrT","regular","generateParticipleFormWithSeparablePrefix","prefixes","currentPrefix","startsWith","stemmedWordWithoutPrefix","slice","length","participleFormWithPrefix","verbPrefixesSeparable","verbPrefixesSeparableOrInseparable"],"mappings":";;;;;QA8DgBA,sB,GAAAA,sB;AA9DhB;;;;;;;;;AASA,IAAMC,uBAAuB,SAAvBA,oBAAuB,CAAUC,WAAV,EAAuBC,OAAvB,EAAwD;AAAA,KAAxBC,gBAAwB,uEAAL,EAAK;;AACpF,QAAOA,mBAAmBD,QAAQE,MAA3B,GAAoCH,WAApC,GAAkDC,QAAQG,MAAjE;AACA,CAFD;;AAIA;;;;;;;;AAQA,IAAMC,gCAAgC,SAAhCA,6BAAgC,CAAUC,mBAAV,EAA+BN,WAA/B,EAA6C;AAClF,KAAKA,YAAYO,QAAZ,CAAsB,GAAtB,KAA+BP,YAAYO,QAAZ,CAAsB,GAAtB,CAApC,EAAkE;AACjE,SAAOR,qBAAsBC,WAAtB,EAAmCM,oBAAoBE,iBAApB,CAAsCC,cAAzE,CAAP;AACA;;AAED,QAAOV,qBAAsBC,WAAtB,EAAmCM,oBAAoBE,iBAApB,CAAsCE,OAAzE,CAAP;AACA,CAND;;AAQA;;;;;;;;;AASA,IAAMC,4CAA4C,SAA5CA,yCAA4C,CAAUL,mBAAV,EAA+BN,WAA/B,EAA4CY,QAA5C,EAAuD;AAAA;AAAA;AAAA;;AAAA;AACxG,uBAA6BA,QAA7B,8HAAwC;AAAA,OAA5BC,aAA4B;;AACvC,OAAKb,YAAYc,UAAZ,CAAwBD,aAAxB,CAAL,EAA+C;AAC9C,QAAME,2BAA2Bf,YAAYgB,KAAZ,CAAmBH,cAAcI,MAAjC,EAAyCjB,YAAYiB,MAArD,CAAjC;;AAEA,QAAKjB,YAAYO,QAAZ,CAAsB,GAAtB,KAA+BP,YAAYO,QAAZ,CAAsB,GAAtB,CAApC,EAAkE;AACjE,YAAOR,qBAAsBgB,wBAAtB,EAAgDT,oBAAoBE,iBAApB,CAAsCC,cAAtF,EAAsGI,aAAtG,CAAP;AACA;;AAED,WAAOd,qBAAsBgB,wBAAtB,EAAgDT,oBAAoBE,iBAApB,CAAsCE,OAAtF,EAA+FG,aAA/F,CAAP;AACA;AACD;AAXuG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAaxG,QAAO,IAAP;AACA,CAdD;;AAgBA;;;;;;;;AAQO,SAASf,sBAAT,CAAiCQ,mBAAjC,EAAsDN,WAAtD,EAAoE;AAC1E,KAAIkB,2BAA2BP,0CAC9BL,mBAD8B,EAE9BN,WAF8B,EAG9BM,oBAAoBa,qBAHU,CAA/B;;AAMA,KAAKD,wBAAL,EAAgC;AAC/B,SAAOA,wBAAP;AACA;;AAED;;;;;AAKAA,4BAA2BP,0CAC1BL,mBAD0B,EAE1BN,WAF0B,EAG1BM,oBAAoBc,kCAHM,CAA3B;;AAMA,KAAKF,wBAAL,EAAgC;AAC/B,SAAOA,wBAAP;AACA;;AAED,QAAOb,8BAA+BC,mBAA/B,EAAoDN,WAApD,CAAP;AACA","file":"generateParticipleForm.js","sourcesContent":["/**\n * Adds a prefix and a suffix to a stem in order to create a past participle form\n *\n * @param {string}  stemmedWord             The stemmed word for which to create the past participle form.\n * @param {Object}  affixes                 The suffix and prefix data.\n * @param {string}  [additionalPrefix = \"\"] An additional prefix to attach to the beginning of the participle.\n *\n * @returns {string} The participle form.\n */\nconst addParticipleAffixes = function( stemmedWord, affixes, additionalPrefix = \"\" ) {\n\treturn additionalPrefix + affixes.prefix + stemmedWord + affixes.suffix;\n};\n\n/**\n * Generates past participle forms.\n *\n * @param {Object}  morphologyDataVerbs     The German morphology data for verbs.\n * @param {string}  stemmedWord             The stemmed word for which to generate the participle.\n *\n * @returns {string} A past participle form.\n */\nconst generateRegularParticipleForm = function( morphologyDataVerbs, stemmedWord ) {\n\tif ( stemmedWord.endsWith( \"d\" ) || stemmedWord.endsWith( \"t\" ) ) {\n\t\treturn addParticipleAffixes( stemmedWord, morphologyDataVerbs.participleAffixes.stemEndsInDOrT );\n\t}\n\n\treturn addParticipleAffixes( stemmedWord, morphologyDataVerbs.participleAffixes.regular );\n};\n\n/**\n * Generates participle forms with separable or separable/inseparable prefixes.\n *\n * @param {Object}      morphologyDataVerbs The German morphology data for verbs.\n * @param {string}      stemmedWord         The stem to check.\n * @param {string[]}    prefixes            The prefixes to check.\n *\n * @returns {string|null} The created participle form or null if the stem doesn't start with a prefix.\n */\nconst generateParticipleFormWithSeparablePrefix = function( morphologyDataVerbs, stemmedWord, prefixes ) {\n\tfor ( const currentPrefix of prefixes ) {\n\t\tif ( stemmedWord.startsWith( currentPrefix ) ) {\n\t\t\tconst stemmedWordWithoutPrefix = stemmedWord.slice( currentPrefix.length, stemmedWord.length );\n\n\t\t\tif ( stemmedWord.endsWith( \"d\" ) || stemmedWord.endsWith( \"t\" ) ) {\n\t\t\t\treturn addParticipleAffixes( stemmedWordWithoutPrefix, morphologyDataVerbs.participleAffixes.stemEndsInDOrT, currentPrefix );\n\t\t\t}\n\n\t\t\treturn addParticipleAffixes( stemmedWordWithoutPrefix, morphologyDataVerbs.participleAffixes.regular, currentPrefix );\n\t\t}\n\t}\n\n\treturn null;\n};\n\n/**\n * Generates participle forms for a given stem.\n *\n * @param {Object}  morphologyDataVerbs The German morphology data for verbs.\n * @param {string}  stemmedWord         The stem to check.\n *\n * @returns {string} The created participle form.\n */\nexport function generateParticipleForm( morphologyDataVerbs, stemmedWord ) {\n\tlet participleFormWithPrefix = generateParticipleFormWithSeparablePrefix(\n\t\tmorphologyDataVerbs,\n\t\tstemmedWord,\n\t\tmorphologyDataVerbs.verbPrefixesSeparable\n\t);\n\n\tif ( participleFormWithPrefix ) {\n\t\treturn participleFormWithPrefix;\n\t}\n\n\t/*\n\t * Check forms with a separable/non-separable prefix used in its separable form, e.g. (\"überkochen\" - \"übergekocht\")\n\t * For its these prefixes used in the inseparable form, the resulting participle would be the same as\n\t * the 3rd person singular, so we don't need to create a separate form here (e.g., \"überführen\" - \"überführt\").\n\t */\n\tparticipleFormWithPrefix = generateParticipleFormWithSeparablePrefix(\n\t\tmorphologyDataVerbs,\n\t\tstemmedWord,\n\t\tmorphologyDataVerbs.verbPrefixesSeparableOrInseparable\n\t);\n\n\tif ( participleFormWithPrefix ) {\n\t\treturn participleFormWithPrefix;\n\t}\n\n\treturn generateRegularParticipleForm( morphologyDataVerbs, stemmedWord );\n}\n"]}