{"version":3,"sources":["../../../../../src/tree/assess/scoreAggregators/SEOScoreAggregator.js"],"names":["ScoreScale","ScoreFactor","SEOScoreAggregator","results","score","reduce","sum","result","getScore","Math","round","length","ScoreAggregator"],"mappings":";;;;;;;;AAAA;;;;;;;;;;;;AAEA;;;;;;;;;;;AAWA,IAAMA,aAAa,GAAnB;;AAEA;;;;;;;;;;;AAWA,IAAMC,cAAc,CAApB;;AAEA;;;;;;IAKMC,kB;;;;;;;;;;;;AACL;;;;;;;8BAOWC,O,EAAU;AACpB,UAAMC,QAAQD,QAAQE,MAAR,CAAgB,UAAEC,GAAF,EAAOC,MAAP;AAAA,eAAmBD,MAAMC,OAAOC,QAAP,EAAzB;AAAA,OAAhB,EAA4D,CAA5D,CAAd;;AAEA;;;;;AAKA,aAAOC,KAAKC,KAAL,CAAcN,QAAQJ,UAAV,IAA2BG,QAAQQ,MAAR,GAAiBV,WAA5C,CAAZ,KAA2E,CAAlF;AACA;;;;EAjB+BW,yB;;kBAoBlBV,kB","file":"SEOScoreAggregator.js","sourcesContent":["import ScoreAggregator from \"./ScoreAggregator\";\n\n/**\n * The number to scale the score to.\n *\n * Individual scores are from 1 to 9.\n * The total score should be multiplied by this number to scale up.\n *\n * @type {number}\n * @const\n *\n * @memberOf module:tree/assess\n */\nconst ScoreScale = 100;\n\n/**\n * The factor to multiply the amount of results with.\n *\n * Individual scores are from 1 to 9.\n * The make the total score work in the 100 scale, the amount of results needs to get multiplied by this factor.\n *\n * @type {number}\n * @const\n *\n * @memberOf module:tree/assess\n */\nconst ScoreFactor = 9;\n\n/**\n * Aggregates SEO assessment results into a single score.\n *\n * @memberOf module:tree/assess\n */\nclass SEOScoreAggregator extends ScoreAggregator {\n\t/**\n\t * Aggregates the given assessment results into a single score.\n\t *\n\t * @param {AssessmentResult[]} results The assessment results.\n\t *\n\t * @returns {number} The aggregated score.\n\t */\n\taggregate( results ) {\n\t\tconst score = results.reduce( ( sum, result ) => sum + result.getScore(), 0 );\n\n\t\t/*\n\t\t * Whenever the divide by part is 0 this can result in a `NaN` value. Then 0 should be returned as fallback.\n\t\t * This seemed better than the if check `results.length === 0`,\n\t\t * because it also protects against ScoreFactor being 0.\n\t\t */\n\t\treturn Math.round( ( score * ScoreScale ) / ( results.length * ScoreFactor ) ) || 0;\n\t}\n}\n\nexport default SEOScoreAggregator;\n"]}