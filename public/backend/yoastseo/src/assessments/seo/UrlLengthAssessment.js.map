{"version":3,"sources":["../../../../src/assessments/seo/UrlLengthAssessment.js"],"names":["UrlLengthAssessment","config","console","warn","defaultConfig","scores","tooLong","urlTitle","urlCallToAction","identifier","_config","paper","researcher","i18n","urlIsTooLong","getResearch","assessmentResult","AssessmentResult","setScore","calculateScore","setText","translateScore","hasUrl","sprintf","dgettext","Assessment"],"mappings":";;;;;;;;AAAA;;AAEA;;;;AACA;;AACA;;;;;;;;;;;;AAEA;;;IAGMA,mB;;;AACL;;;;;;;;;AASA,gCAA2B;AAAA,MAAdC,MAAc,uEAAL,EAAK;;AAAA;;AAAA;;AAG1BC,UAAQC,IAAR,CAAc,0FACb,sGADD;;AAGA,MAAMC,gBAAgB;AACrBC,WAAQ;AACPC,aAAS;AADF,IADa;AAIrBC,aAAU,yCAAwB,oBAAxB,CAJW;AAKrBC,oBAAiB,yCAAwB,oBAAxB;AALI,GAAtB;;AAQA,QAAKC,UAAL,GAAkB,WAAlB;AACA,QAAKC,OAAL,GAAe,qBAAON,aAAP,EAAsBH,MAAtB,CAAf;AAf0B;AAgB1B;;AAED;;;;;;;;;;;;;4BASWU,K,EAAOC,U,EAAYC,I,EAAO;AACpC,OAAMC,eAAmBF,WAAWG,WAAX,CAAwB,WAAxB,CAAzB;AACA,OAAMC,mBAAmB,IAAIC,0BAAJ,EAAzB;;AAEAD,oBAAiBE,QAAjB,CAA2B,KAAKC,cAAL,CAAqBL,YAArB,CAA3B;AACAE,oBAAiBI,OAAjB,CAA0B,KAAKC,cAAL,CAAqBP,YAArB,EAAmCD,IAAnC,CAA1B;;AAEA,UAAOG,gBAAP;AACA;;AAED;;;;;;;;;;+BAOcL,K,EAAQ;AACrB,UAAOA,MAAMW,MAAN,EAAP;AACA;;AAED;;;;;;;;;;iCAOgBR,Y,EAAe;AAC9B,OAAKA,YAAL,EAAoB;AACnB,WAAO,KAAKJ,OAAL,CAAaL,MAAb,CAAoBC,OAA3B;AACA;;AAED,UAAO,IAAP;AACA;;AAED;;;;;;;;;;;iCAQgBQ,Y,EAAcD,I,EAAO;AACpC,OAAKC,YAAL,EAAoB;AACnB,WAAOD,KAAKU,OAAL;AACN;AACAV,SAAKW,QAAL,CAAe,kBAAf,EAAmC,kFAAnC,CAFM,EAGN,KAAKd,OAAL,CAAaH,QAHP,EAIN,KAAKG,OAAL,CAAaF,eAJP,EAKN,MALM,CAAP;AAOA;;AAED,UAAO,EAAP;AACA;;;;EA7FgCiB,oB;;kBAgGnBzB,mB","file":"UrlLengthAssessment.js","sourcesContent":["import { merge } from \"lodash-es\";\n\nimport Assessment from \"../../assessment\";\nimport { createAnchorOpeningTag } from \"../../helpers/shortlinker\";\nimport AssessmentResult from \"../../values/AssessmentResult\";\n\n/**\n * Assessment that checks if the url is long enough.\n */\nclass UrlLengthAssessment extends Assessment {\n\t/**\n\t * Sets the identifier and the config.\n\t *\n\t * @param {Object} [config] The configuration to use.\n\t *\n\t * @returns {void}\n\t *\n\t * @deprecated since 1.48. We have removed it from the assessments since we do not consider it an important SEO factor anymore.\n\t */\n\tconstructor( config = {} ) {\n\t\tsuper();\n\n\t\tconsole.warn( \"Deprecation Warning: The UrlLengthAssessment has been deprecated since version 1.48. \" +\n\t\t\t\"We have removed it from the assessments since we do not consider it an important SEO factor anymore.\" );\n\n\t\tconst defaultConfig = {\n\t\t\tscores: {\n\t\t\t\ttooLong: 6,\n\t\t\t},\n\t\t\turlTitle: createAnchorOpeningTag( \"https://yoa.st/35b\" ),\n\t\t\turlCallToAction: createAnchorOpeningTag( \"https://yoa.st/35c\" ),\n\t\t};\n\n\t\tthis.identifier = \"urlLength\";\n\t\tthis._config = merge( defaultConfig, config );\n\t}\n\n\t/**\n\t * Checks the length of the url.\n\t *\n\t * @param {Paper} paper The paper to run this assessment on.\n\t * @param {Researcher} researcher The researcher used for the assessment.\n\t * @param {Jed} i18n The i18n-object used for parsing translations.\n\t *\n\t * @returns {AssessmentResult} an AssessmentResult with the score and the formatted text.\n\t */\n\tgetResult( paper, researcher, i18n ) {\n\t\tconst urlIsTooLong     = researcher.getResearch( \"urlLength\" );\n\t\tconst assessmentResult = new AssessmentResult();\n\n\t\tassessmentResult.setScore( this.calculateScore( urlIsTooLong ) );\n\t\tassessmentResult.setText( this.translateScore( urlIsTooLong, i18n ) );\n\n\t\treturn assessmentResult;\n\t}\n\n\t/**\n\t * Checks whether the paper has a url.\n\t *\n\t * @param {Paper} paper The paper to use for the assessment.\n\t *\n\t * @returns {boolean} True when there is text.\n\t */\n\tisApplicable( paper ) {\n\t\treturn paper.hasUrl();\n\t}\n\n\t/**\n\t * Calculates the score based on the url length.\n\t *\n\t * @param {boolean} urlIsTooLong True when the URL is too long.\n\t *\n\t * @returns {number|null} The calculated score.\n\t */\n\tcalculateScore( urlIsTooLong ) {\n\t\tif ( urlIsTooLong ) {\n\t\t\treturn this._config.scores.tooLong;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Translates the score to a message the user can understand.\n\t *\n\t * @param {boolean} urlIsTooLong True when the URL is too long.\n\t * @param {Jed} i18n The object used for translations.\n\t *\n\t * @returns {string} The translated string.\n\t */\n\ttranslateScore( urlIsTooLong, i18n ) {\n\t\tif ( urlIsTooLong ) {\n\t\t\treturn i18n.sprintf(\n\t\t\t\t/* Translators:  %1$s and %2$s expand to links on yoast.com, %3$s expands to the anchor end tag */\n\t\t\t\ti18n.dgettext( \"js-text-analysis\", \"%1$sSlug too long%3$s: the slug for this page is a bit long. %2$sShorten it%3$s!\" ),\n\t\t\t\tthis._config.urlTitle,\n\t\t\t\tthis._config.urlCallToAction,\n\t\t\t\t\"</a>\",\n\t\t\t);\n\t\t}\n\n\t\treturn \"\";\n\t}\n}\n\nexport default UrlLengthAssessment;\n"]}